@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix soso: <http://science-on-schema.org/1.1.0/validation/shacl#> .
@prefix SO: <https://schema.org/> .
@prefix datacite: <http://purl.org/spar/datacite/> .

soso:IDShape
    a sh:NodeShape ;
    sh:targetClass SO:Course ;
    sh:message "Graph must have an ID"@en ;
    sh:description "URL  OIH shape guidance" ;
    sh:nodeKind sh:IRI ;
    .

soso:DatasetCommonShape
    a sh:NodeShape ;
    sh:targetClass SO:Course ;
    sh:message "OIH Learning Resource validation" ;
    sh:description "OIH shape guidance" ;
    sh:property
        soso:nameResourceProperty,
        soso:urlResourceProperty,
        soso:descriptionResourceProperty,
        soso:keywordsResourceProperty,
        soso:identifierResourceProperty ;
    .

soso:nameResourceProperty
    a sh:PropertyShape ;
    sh:path SO:name ;
    sh:nodeKind sh:Literal ;
    sh:minCount 1 ;
    sh:message "Name is required "@en ;
    sh:description "https://foo.org" ;
    .

soso:urlResourceProperty
    a sh:PropertyShape ;
    sh:path SO:url ;
    sh:maxCount 1 ;
    sh:minCount 1 ;
    sh:nodeKind sh:IRIOrLiteral ;
    sh:message "URL required for the location of a page describing the resource"@en ;
    sh:description "https://foo.org" ;
    .

soso:descriptionResourceProperty
    a sh:PropertyShape ;
    sh:path SO:description;
    sh:nodeKind sh:Literal ;
    sh:minCount 1 ;
    sh:message "Resource must have a description"@en ;
    sh:description "https://foo.org" ;
    .

soso:keywordsResourceProperty
    a sh:PropertyShape ;
    sh:path SO:keywords ;
    sh:minCount 1 ;
    sh:nodeKind sh:Literal ;
    sh:message "A resource should include descriptive keywords" ;
    .

soso:identifierResourceProperty
    a sh:PropertyShape ;
    sh:path SO:identifier;
    sh:minCount 1 ;
    sh:or (
        [
            sh:nodeKind sh:Literal ;
        ]
        [
            sh:class SO:URL ;
        ]
        [
            sh:class SO:PropertyValue ;
        ]
    );
    sh:message "Resource identifiers must be a URL, Text or PropertyValue"@en ;
    .

